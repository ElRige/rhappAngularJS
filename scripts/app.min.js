(function () {
    const app = angular.module('rhapp', [
        'ngRoute',
        'rhapp.about',
        'rhapp.home',
        'rhapp.news'
    ]);

    app.config(["$routeProvider", "$locationProvider", function ($routeProvider, $locationProvider) {
        $locationProvider.html5Mode(true);

        $routeProvider
            .when('/home', {
                templateUrl: 'src/home/home.part.html',
                controller: 'HomeController as hCtrl'
            })
            .when('/about', {
                templateUrl: 'src/about/about.part.html'
            })
            .when('/news', {
                templateUrl: 'src/news/news.part.html'
            })
            .otherwise('/home');

    }]);
})();



(function() {
    const app = angular.module('rhapp.about', []);
})();



(function() {
    const app = angular.module('rhapp.news', []);
})();



(function() {
    const app = angular.module('rhapp.home', []);
})();



(function () {
    const app = angular.module('rhapp.about');

    app.controller('AboutController', function () {
        let vm = this;
        vm.greetings = 'Welcome to about page';
    });
})();
(function () {
    const app = angular.module('rhapp.home');

    app.controller('HomeController', ["$scope", "homeService", function ($scope, homeService) {
        let vm = this;
        homeService.getApplications().then(function (response) {
            vm.applications = response.data.aplicationsList;
        });

        vm.addApplication = function () {
            var application = {
                "firstname": "michel",
                "lastname": "dupont",
                "askedSalary": 2234,
                "experiences": [
                    {
                        "from": "2012-04-23T18:25:43.511Z",
                        "to": "2012-04-23T18:25:43.511Z",
                        "description": "kjsdhfk"
                    }]
            };
            homeService.addApplication(application).then(function (response) {
            });
        };

    }]);
})();



(function () {
    const app = angular.module('rhapp.home');

    app.factory('homeService', ["$http", function ($http) {

        function getApplications() {
            let config = {
                method: 'GET',
                url: '/rh-api/v1/applications'
            };

            return $http(config);
        }

        function getApplication(id) {
            let config = {
                method: 'GET',
                url: '/rh-api/v1/applications/' + id
            };

            return $http(config);
        }

        function deleteApplication(id) {
            let config = {
                method: 'DELETE',
                url: '/rh-api/v1/applications/' + id
            };

            return $http(config);
        }

        function addApplication(anApplication) {
            let config = {
                method: 'POST',
                url: '/rh-api/v1/applications',
                data: anApplication,
                headers: {
                    'Content-Type': 'application/json'
                }
            };

            return $http(config);
        }

        function updateApplication(anApplication, id) {
            let config = {
                method: 'PUT',
                url: '/rh-api/v1/applications/' + id,
                data: anApplication,
                headers: {
                    'Content-Type': 'application/json'
                }
            };

            return $http(config);
        }

        return {
            getApplications,
            getApplication,
            deleteApplication,
            addApplication,
            updateApplication
        };
    }]);
})();